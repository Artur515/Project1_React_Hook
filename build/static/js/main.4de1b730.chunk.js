(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,r){e.exports={basketCard:"basketItemCard_basketCard__EGYbJ",basketCard_delete:"basketItemCard_basketCard_delete__3Kiqr"}},24:function(e,t,r){e.exports={tooltip:"tooltip_tooltip__1hrEF"}},25:function(e,t,r){e.exports={header:"header_header__1wmDs"}},26:function(e,t,r){e.exports={wrapper:"wrapper_wrapper__S1nY5"}},27:function(e,t,r){e.exports={button:"button_button__2Ojtu"}},28:function(e,t,r){e.exports={text:"productList_text__2XhIZ"}},29:function(e,t,r){e.exports={load:"loader_load__1WZT1",rotateLoad:"loader_rotateLoad__12rvO",mini:"loader_mini__3RC2Y",little:"loader_little__ZqH3B",scaleChange_1:"loader_scaleChange_1__wL-nJ",scaleChange_2:"loader_scaleChange_2__3f5Ie",dark:"loader_dark__3AejH"}},30:function(e,t,r){e.exports={error:"error_error__2X03E"}},36:function(e,t,r){},39:function(e,t,r){},58:function(e,t,r){},59:function(e,t,r){},60:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(23),s=r.n(c),i=(r(36),r(31)),o=r(4),u=r(3),d=r.n(u),l=r(8),j=r(5),b=r.p+"static/media/shopping-cart.65724f30.png",p=function(e,t){return e*t},h=r(14),x=r.n(h),O=r(0),_=function(e){var t=e.product,r=t.title,a=t.price,c=t.image,s=t.quantity,i=Object(n.useContext)(W).handleDeleteProductApi;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:x.a.basketCard,children:[Object(O.jsx)("img",{src:c,alt:"basket_item_image"}),Object(O.jsx)("p",{children:r}),Object(O.jsxs)("p",{children:[" ",s," * ",a," = ",p(s,a)," $"]})]}),Object(O.jsx)("img",{className:x.a.basketCard_delete,onClick:function(){return i(t.id)},src:"https://img.icons8.com/external-kiranshastry-solid-kiranshastry/50/000000/external-delete-miscellaneous-kiranshastry-solid-kiranshastry.png",alt:"delete"})]})},m=(r(39),r(24)),f=r.n(m),v=function(){var e,t=Object(n.useContext)(W).basketProducts;return Object(O.jsx)("div",{className:f.a.tooltip,children:(e=t,e.map((function(e){return e.quantity})).reduce((function(e,t){return e+t}),0))})},k=function(){var e,t=Object(n.useContext)(W).basketProducts;return Object(O.jsxs)(O.Fragment,{children:[t.length>0&&Object(O.jsx)(v,{}),Object(O.jsx)("input",{id:"hamburger",className:"hamburger",type:"checkbox"}),Object(O.jsx)("img",{src:b,className:"hamburger_image",alt:"basket"}),Object(O.jsxs)("label",{className:"hamburger",htmlFor:"hamburger",children:[Object(O.jsx)("i",{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{className:"close",children:"close"}),Object(O.jsx)("p",{className:"open",children:"Basket"})]})]}),Object(O.jsxs)("section",{className:"drawer-list",children:[Object(O.jsx)("ul",{children:t.length?t.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)(_,{product:e})},e.id)})):Object(O.jsx)("div",{className:"drawer_text",children:Object(O.jsx)("h2",{children:"Basket is empty"})})}),Object(O.jsxs)("h2",{className:"drawer_total",children:["Total: ",(e=t,e.map((function(e){return e.quantity*e.price})).reduce((function(e,t){return e+t}),0))," $"]})]})]})},g=r(25),C=r.n(g),N=function(){return Object(O.jsxs)("div",{className:C.a.header,children:[Object(O.jsx)("h1",{children:"Cafe Logo"}),Object(O.jsx)(k,{})]})},y=r(26),w=r.n(y),S=function(e){return Object(O.jsx)("div",{className:w.a.wrapper,children:e.children})},q=r(27),E=r.n(q),L=function(e){return Object(O.jsx)("div",Object(o.a)(Object(o.a)({},e),{},{className:E.a.button,children:e.children}))},P=r(9),T=r.n(P),A=function(e){var t=e.product,r=Object(n.useContext)(W).handleAddToBasket,a=t.image,c=t.price,s=t.title,i=t.ingredients;return Object(O.jsxs)("div",{className:T.a.card,children:[Object(O.jsx)("img",{src:a,alt:"product_image"}),Object(O.jsxs)("div",{className:T.a.card_container,children:[Object(O.jsxs)("div",{className:T.a.card_price,children:[Object(O.jsx)("h3",{children:s}),Object(O.jsx)("h4",{children:c})]}),Object(O.jsx)("div",{className:T.a.card_description,children:i.map((function(e,t){return Object(O.jsxs)("li",{children:[e,","]},t)}))}),Object(O.jsx)(L,{onClick:function(){return r(t)},children:"Add to card"})]})]})},B=r(28),F=r.n(B),I=function(){var e=Object(n.useContext)(W).products;return Object(O.jsx)(O.Fragment,{children:0===e.length?Object(O.jsx)("div",{className:F.a.text,children:Object(O.jsx)("h2",{children:"No results found. Try another request"})}):e.map((function(e){return Object(O.jsx)(A,{product:e},e.id)}))})},J=r(6),D=r.n(J),G="http://localhost:3001",R=function(e){return D.a.put(G+"/basket/".concat(e.id),e)},Y=function(e){return D.a.delete(G+"/basket/".concat(e))},Z=(r(58),function(e){var t=e.handleSearch;return Object(O.jsxs)("div",{className:"form__group field",children:[Object(O.jsx)("input",{type:"input",className:"form__field",placeholder:"Search",name:"name",required:!0,onChange:function(e){return t(e.target.value.toLowerCase())}}),Object(O.jsx)("label",{htmlFor:"name",className:"form__label",children:"Search by name..."})]})}),H=r(29),X=r.n(H),$=function(){return Object(O.jsx)("section",{children:Object(O.jsx)("span",{className:X.a.load})})},K=r(30),M=r.n(K),V=function(){var e=Object(n.useContext)(W).handleRemoveError;return Object(O.jsxs)("div",{className:M.a.error,children:[Object(O.jsx)("h1",{className:"error",children:"Error"}),Object(O.jsx)(L,{onClick:e,children:"Go back"})]})},W=(r(59),Object(n.createContext)(null)),z=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)([]),s=Object(j.a)(c,2),u=s[0],b=s[1],p=Object(n.useState)([]),h=Object(j.a)(p,2),x=h[0],_=h[1],m=Object(n.useState)(!1),f=Object(j.a)(m,2),v=f[0],k=f[1],g=Object(n.useState)(null),C=Object(j.a)(g,2),y=C[0],w=C[1],q=Object(n.useState)(!1),E=Object(j.a)(q,2),L=E[0],P=E[1],T=function(){var e=Object(l.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,D.a.get(G+"/data");case 4:t=e.sent,r=t.data,a(r),b(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),w(e.t0);case 13:return e.prev=13,P(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get(G+"/basket");case 3:t=e.sent,r=t.data,_(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),w(y);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){T(),A()}),[]);var B=function(){var e=Object(l.a)(d.a.mark((function e(t){var r,n,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(o.a)(Object(o.a)({},t),{},{quantity:1}),n=x.find((function(e){return e.id===t.id})),n){e.next=18;break}return e.prev=3,e.next=6,u=r,D.a.post(G+"/basket",u);case 6:a=e.sent,c=a.data,_([].concat(Object(i.a)(x),[c])),k(!0),setTimeout((function(){k(!1)}),1500),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),w(e.t0.message);case 16:e.next=31;break;case 18:return e.prev=18,s=Object(o.a)(Object(o.a)({},n),{},{quantity:n.quantity+1}),e.next=22,R(s);case 22:return e.next=24,A();case 24:k(!0),setTimeout((function(){k(!1)}),1500),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(18),w(e.t1.message);case 31:case"end":return e.stop()}var u}),e,null,[[3,13],[18,28]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(t);case 3:return e.next=5,A();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),w(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(W.Provider,{value:{products:u,basketProducts:x,errors:y,loading:L,handleAddToBasket:B,handleDeleteProductApi:F,handleRemoveError:function(){w(null)}},children:[Object(O.jsx)(N,{}),Object(O.jsx)(Z,{handleSearch:function(e){var t=r.filter((function(t){return t.title.toLowerCase().substring(0,4).includes(e)}));b(t)}}),null!==y?Object(O.jsx)(V,{}):Object(O.jsxs)(S,{children:[v&&Object(O.jsx)("div",{className:"product_message",children:"Product added"}),L?Object(O.jsx)($,{}):Object(O.jsx)(I,{})]})]})};s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(z,{})}),document.getElementById("root"))},9:function(e,t,r){e.exports={card:"productCard_card__3bo3i",card_container:"productCard_card_container__2EGS3",card_price:"productCard_card_price__2ti9V",card_description:"productCard_card_description__3e_Ji"}}},[[60,1,2]]]);
//# sourceMappingURL=main.4de1b730.chunk.js.map